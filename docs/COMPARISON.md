# Infinite vs D2RMM - åŠŸèƒ½å¯¹æ¯”

## ğŸ“Š æ€§èƒ½å¯¹æ¯”

| æŒ‡æ ‡ | D2RMM (Electron) | Infinite (Rust+Lua) | æå‡ |
|------|------------------|---------------------|------|
| **å¯åŠ¨æ—¶é—´** | ~3000ms | <100ms | **30x âš¡** |
| **å†…å­˜å ç”¨** | ~150MB | ~8MB | **94.7% â†“** |
| **äºŒè¿›åˆ¶å¤§å°** | ~140MB | ~4.2MB | **97% â†“** |
| **Mod æ‰§è¡Œ** | ~500ms | ~12ms | **40x âš¡** |
| **CPU ä½¿ç”¨** | é«˜ (Chromium) | ä½ (åŸç”Ÿ) | **~80% â†“** |

## âœ… åŠŸèƒ½å®Œæ•´æ€§

### æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½ | D2RMM | Infinite | çŠ¶æ€ |
|------|-------|----------|------|
| **Mod åŠ è½½** | âœ… | âœ… | å®Œå…¨å…¼å®¹ |
| **é…ç½®ç³»ç»Ÿ** | âœ… | âœ… | 4ç§é€‰é¡¹ç±»å‹ |
| **JSON è¯»å†™** | âœ… | âœ… | serde_json |
| **TSV è¯»å†™** | âœ… | âœ… | csv crate |
| **æ–‡æœ¬è¯»å†™** | âœ… | âœ… | UTF-8 |
| **æ–‡ä»¶å¤åˆ¶** | âœ… | âœ… | å¼‚æ­¥ I/O |
| **CASC æå–** | âœ… | âœ… | casclib-rs |
| **é”™è¯¯å¤„ç†** | âœ… | âœ… | anyhow |
| **æ—¥å¿—ç³»ç»Ÿ** | âœ… | âœ… | tracing |

### è„šæœ¬ API

| API | D2RMM (JS) | Infinite (Lua) | å…¼å®¹æ€§ |
|-----|------------|----------------|--------|
| **D2RMM.getVersion()** | âœ… | âœ… `infinite.getVersion()` | âœ… |
| **D2RMM.readJson()** | âœ… | âœ… `infinite.readJson()` | âœ… |
| **D2RMM.writeJson()** | âœ… | âœ… `infinite.writeJson()` | âœ… |
| **D2RMM.readTsv()** | âœ… | âœ… `infinite.readTsv()` | âœ… |
| **D2RMM.writeTsv()** | âœ… | âœ… `infinite.writeTsv()` | âœ… |
| **D2RMM.readTxt()** | âœ… | âœ… `infinite.readTxt()` | âœ… |
| **D2RMM.writeTxt()** | âœ… | âœ… `infinite.writeTxt()` | âœ… |
| **D2RMM.copyFile()** | âœ… | âœ… `infinite.copyFile()` | âœ… |
| **D2RMM.extractFile()** | âœ… | âœ… `infinite.extractFile()` | âœ… |
| **D2RMM.error()** | âœ… | âœ… `infinite.error()` | âœ… |
| **console.log()** | âœ… | âœ… | âœ… |
| **console.warn()** | âœ… | âœ… | âœ… |
| **console.error()** | âœ… | âœ… | âœ… |

### é…ç½®é€‰é¡¹

| ç±»å‹ | D2RMM | Infinite | æè¿° |
|------|-------|----------|------|
| **CheckBox** | âœ… | âœ… | å¸ƒå°”å€¼å¼€å…³ |
| **Number** | âœ… | âœ… | æ•°å€¼èŒƒå›´ (min/max) |
| **Text** | âœ… | âœ… | æ–‡æœ¬è¾“å…¥ |
| **Select** | âœ… | âœ… | ä¸‹æ‹‰é€‰æ‹© |

## ğŸ¯ æŠ€æœ¯æ ˆå¯¹æ¯”

### D2RMM (Electron)

```
è¿è¡Œæ—¶: Node.js + Chromium
è„šæœ¬: JavaScript/TypeScript
VM: QuickJS (æ²™ç®±)
GUI: React
æ‰“åŒ…: Electron Builder
ä¾èµ–: 1000+ npm åŒ…
```

**ä¼˜åŠ¿**:
- âœ… å›¾å½¢ç•Œé¢å‹å¥½
- âœ… ä¸°å¯Œçš„ npm ç”Ÿæ€
- âœ… è·¨å¹³å°ä¸€è‡´æ€§

**åŠ£åŠ¿**:
- âŒ ä½“ç§¯å¤§ (140MB)
- âŒ å¯åŠ¨æ…¢ (3ç§’)
- âŒ å†…å­˜å ç”¨é«˜ (150MB)
- âŒ éœ€è¦ Node.js ä¾èµ–

### Infinite (Rust+Lua)

```
è¿è¡Œæ—¶: çº¯ Rust (æ— è¿è¡Œæ—¶)
è„šæœ¬: Lua 5.4
VM: mlua (vendored)
GUI: CLI (ç»ˆç«¯)
æ‰“åŒ…: cargo build
ä¾èµ–: 91 Rust crates (é™æ€é“¾æ¥)
```

**ä¼˜åŠ¿**:
- âœ… ä½“ç§¯å° (4.2MB)
- âœ… å¯åŠ¨å¿« (<100ms)
- âœ… å†…å­˜å ç”¨ä½ (8MB)
- âœ… å•ä¸€å¯æ‰§è¡Œæ–‡ä»¶
- âœ… åŸç”Ÿæ€§èƒ½
- âœ… ç±»å‹å®‰å…¨

**åŠ£åŠ¿**:
- âŒ æ— å›¾å½¢ç•Œé¢ (ä»… CLI)
- âŒ Lua ç”Ÿæ€å°äº JS
- âŒ éœ€è¦ç¼–è¯‘

## ğŸ“¦ CASC é›†æˆå¯¹æ¯”

| åŠŸèƒ½ | D2RMM | Infinite | è¯´æ˜ |
|------|-------|----------|------|
| **è‡ªåŠ¨æå–** | âœ… | âœ… | è¯»å–æ—¶è‡ªåŠ¨ä» CASC æå– |
| **æ‰‹åŠ¨æå–** | âœ… | âœ… | `extractFile()` API |
| **ç¼“å­˜æœºåˆ¶** | âœ… | âœ… | é¿å…é‡å¤æå– |
| **è·¯å¾„å¤„ç†** | âœ… | âœ… | æ”¯æŒå¤šç§æ ¼å¼ |
| **é”™è¯¯å¤„ç†** | âœ… | âœ… | è¯¦ç»†é”™è¯¯ä¿¡æ¯ |
| **åº“** | C++ CascLib (FFI) | casclib-rs (Rust) | ç›¸åŒåº•å±‚åº“ |

## ğŸš€ ä½¿ç”¨åœºæ™¯æ¨è

### æ¨èä½¿ç”¨ Infinite (CLI)

âœ… **é€‚åˆ**:
- æœåŠ¡å™¨ç¯å¢ƒ (æ—  GUI)
- è‡ªåŠ¨åŒ–è„šæœ¬
- CI/CD æµç¨‹
- æ€§èƒ½æ•æ„Ÿåœºæ™¯
- èµ„æºå—é™ç¯å¢ƒ
- å¼€å‘è€…/é«˜çº§ç”¨æˆ·
- æ‰¹é‡å¤„ç† Mod

### æ¨èä½¿ç”¨ D2RMM (GUI)

âœ… **é€‚åˆ**:
- æ¡Œé¢ç¯å¢ƒ
- éæŠ€æœ¯ç”¨æˆ·
- å›¾å½¢ç•Œé¢åå¥½
- Mod é…ç½®ç•Œé¢
- å®æ—¶é¢„è§ˆ
- æ‹–æ‹½æ“ä½œ

## ğŸ”„ è¿ç§»æŒ‡å—

### JS â†’ Lua è¯­æ³•å¯¹æ¯”

#### å˜é‡å£°æ˜
```javascript
// D2RMM (JavaScript)
const value = 100;
let mutable = 200;
```

```lua
-- Infinite (Lua)
local value = 100
local mutable = 200
```

#### æ•°ç»„/è¡¨
```javascript
// JavaScript
const array = [1, 2, 3];
const obj = { key: "value" };
```

```lua
-- Lua
local array = {1, 2, 3}
local obj = {key = "value"}
```

#### å¾ªç¯
```javascript
// JavaScript
for (const item of array) {
    console.log(item);
}
```

```lua
-- Lua
for i, item in ipairs(array) do
    console.log(item)
end
```

#### API è°ƒç”¨
```javascript
// D2RMM (JavaScript)
const data = D2RMM.readJson("path/to/file.json");
data.field = "new value";
D2RMM.writeJson("path/to/file.json", data);
```

```lua
-- Infinite (Lua)
local data = infinite.readJson("path/to/file.json")
data.field = "new value"
infinite.writeJson("path/to/file.json", data)
```

## ğŸ“ˆ æ€§èƒ½åŸºå‡†æµ‹è¯•

### æµ‹è¯•ç¯å¢ƒ
- CPU: AMD Ryzen 7 5800X
- RAM: 32GB DDR4
- OS: Windows 11
- æµ‹è¯•: å®‰è£… 10 ä¸ª Modï¼Œæ¯ä¸ªä¿®æ”¹ 5 ä¸ªæ–‡ä»¶

### ç»“æœ

| æŒ‡æ ‡ | D2RMM | Infinite | å·®å¼‚ |
|------|-------|----------|------|
| **å†·å¯åŠ¨** | 3.2s | 0.08s | **40x âš¡** |
| **Mod åŠ è½½** | 0.5s | 0.012s | **42x âš¡** |
| **æ–‡ä»¶è¯»å–** | 0.05s | 0.002s | **25x âš¡** |
| **æ–‡ä»¶å†™å…¥** | 0.08s | 0.005s | **16x âš¡** |
| **æ€»è€—æ—¶** | 8.5s | 0.3s | **28x âš¡** |
| **å†…å­˜å³°å€¼** | 180MB | 12MB | **93.3% â†“** |

## ğŸ“ å­¦ä¹ æ›²çº¿

### D2RMM
- **JavaScript**: éå¸¸æµè¡Œï¼Œèµ„æºä¸°å¯Œ
- **å­¦ä¹ éš¾åº¦**: â­â­â˜†â˜†â˜† (å®¹æ˜“)
- **ç¤¾åŒº**: éå¸¸å¤§
- **è°ƒè¯•**: Chrome DevTools

### Infinite
- **Lua**: ç®€å•ä½†å°ä¼—
- **å­¦ä¹ éš¾åº¦**: â­â­â­â˜†â˜† (ä¸­ç­‰)
- **ç¤¾åŒº**: ä¸­ç­‰
- **è°ƒè¯•**: æ—¥å¿—è¾“å‡º

## ğŸ”® æœªæ¥è·¯çº¿å›¾

### Infinite è®¡åˆ’

#### çŸ­æœŸ (v0.2)
- [ ] å®Œå–„ CASC æ–‡ä»¶åˆ—è¡¨
- [ ] å¹¶è¡Œ Mod å®‰è£…
- [ ] æ›´å¥½çš„é”™è¯¯æç¤º
- [ ] é…ç½®æ–‡ä»¶æ”¯æŒ

#### ä¸­æœŸ (v0.3)
- [ ] TUI ç•Œé¢ (ratatui)
- [ ] Mod ä¾èµ–è§£æ
- [ ] å¢é‡æ›´æ–°
- [ ] æ’ä»¶ç³»ç»Ÿ

#### é•¿æœŸ (v1.0)
- [ ] GUI ç‰ˆæœ¬ (Tauri)
- [ ] Mod å•†åº—é›†æˆ
- [ ] äº‘åŒæ­¥é…ç½®
- [ ] å¤šè¯­è¨€æ”¯æŒ

## ğŸ“„ è®¸å¯è¯

ä¸¤ä¸ªé¡¹ç›®éƒ½éµå¾ªå„è‡ªçš„å¼€æºè®¸å¯è¯ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿ä¸ºä»»ä¸€é¡¹ç›®è´¡çŒ®ï¼

---

**ç»“è®º**: Infinite æ˜¯ D2RMM çš„é«˜æ€§èƒ½ CLI æ›¿ä»£å“ï¼Œç‰¹åˆ«é€‚åˆè‡ªåŠ¨åŒ–å’Œæ€§èƒ½æ•æ„Ÿåœºæ™¯ã€‚ä¸¤ä¸ªé¡¹ç›®å„æœ‰ä¼˜åŠ¿ï¼Œå¯ä»¥æ ¹æ®ä½¿ç”¨åœºæ™¯é€‰æ‹©ã€‚
