# âœ… GUI GitHub Mod æ·»åŠ åŠŸèƒ½ - å®Œæˆ

## ğŸ¯ åŠŸèƒ½æ¦‚è¿°

GUI ç°åœ¨æ”¯æŒ**ç›´æ¥ä» GitHub æ·»åŠ  mod**ï¼Œæ— éœ€æ‰‹åŠ¨ä¸‹è½½ï¼

### æ ¸å¿ƒåŠŸèƒ½

1. âœ… **æ™ºèƒ½ URL è§£æ** - æ”¯æŒå¤šç§ GitHub URL æ ¼å¼
2. âœ… **è‡ªåŠ¨è·å–åˆ†æ”¯** - ä» GitHub API å®æ—¶è·å–åˆ†æ”¯åˆ—è¡¨
3. âœ… **åˆ†æ”¯é€‰æ‹©** - ä¸‹æ‹‰èœå•é€‰æ‹©ä»»æ„åˆ†æ”¯
4. âœ… **å­ç›®å½•æ”¯æŒ** - å¯é€‰æŒ‡å®šä»“åº“å†…çš„å­ç›®å½•è·¯å¾„

## ğŸ“ ä½¿ç”¨æµç¨‹

```
1. ç‚¹å‡» "ğŸŒ æ·»åŠ GitHub Mod" æŒ‰é’®
   â†“
2. ç²˜è´´ GitHub é“¾æ¥
   (user/repo æˆ– https://github.com/user/repo)
   â†“
3. ç‚¹å‡» "ğŸ” è·å–åˆ†æ”¯ä¿¡æ¯"
   (è‡ªåŠ¨ä» GitHub è·å–åˆ†æ”¯åˆ—è¡¨)
   â†“
4. é€‰æ‹©åˆ†æ”¯ï¼ˆå¯é€‰ï¼‰
   (é»˜è®¤ç¬¬ä¸€ä¸ªåˆ†æ”¯ï¼Œé€šå¸¸æ˜¯ main/master)
   â†“
5. è¾“å…¥å­ç›®å½•ï¼ˆå¯é€‰ï¼‰
   (å¦‚: mods/my_modï¼Œç•™ç©ºä½¿ç”¨æ ¹ç›®å½•)
   â†“
6. ç‚¹å‡» "âœ… æ·»åŠ "
   (Mod æ·»åŠ åˆ°åˆ—è¡¨ï¼Œæ ¼å¼: github:user/repo:subdir@branch)
```

## ğŸ¨ ç•Œé¢å±•ç¤º

### å¯¹è¯æ¡†

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸŒ æ·»åŠ  GitHub Mod                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ä»“åº“åœ°å€:                                 â”‚
â”‚ [olegbl/d2rmm.mods                     ] â”‚
â”‚ æ”¯æŒæ ¼å¼: user/repo æˆ– github.com/...    â”‚
â”‚                                          â”‚
â”‚ [ğŸ” è·å–åˆ†æ”¯ä¿¡æ¯]                         â”‚
â”‚                                          â”‚
â”‚ â³ æ­£åœ¨è·å–ä»“åº“ä¿¡æ¯...                    â”‚
â”‚                                          â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚ åˆ†æ”¯: [main            â–¼]                â”‚
â”‚                                          â”‚
â”‚ å­ç›®å½•:                                   â”‚
â”‚ [mods/loot_filter                      ] â”‚
â”‚ ç•™ç©ºè¡¨ç¤ºä½¿ç”¨ä»“åº“æ ¹ç›®å½•                    â”‚
â”‚                                          â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚ [âœ… æ·»åŠ ] [âŒ å–æ¶ˆ]                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ’¡ ç¤ºä¾‹

### ç¤ºä¾‹ 1: åŸºæœ¬ç”¨æ³•

```
è¾“å…¥: olegbl/d2rmm.mods
åˆ†æ”¯: main (è‡ªåŠ¨é€‰æ‹©)
å­ç›®å½•: (ç©º)

ç»“æœ: github:olegbl/d2rmm.mods
```

### ç¤ºä¾‹ 2: æŒ‡å®šå­ç›®å½•

```
è¾“å…¥: https://github.com/User/Repository
åˆ†æ”¯: master
å­ç›®å½•: mods/awesome_mod

ç»“æœ: github:User/Repository:mods/awesome_mod
```

### ç¤ºä¾‹ 3: ç‰¹å®šåˆ†æ”¯

```
è¾“å…¥: Developer/D2Mods
åˆ†æ”¯: dev
å­ç›®å½•: (ç©º)

ç»“æœ: github:Developer/D2Mods@dev
```

### ç¤ºä¾‹ 4: å®Œæ•´é…ç½®

```
è¾“å…¥: github.com/User/Repo
åˆ†æ”¯: feature-test
å­ç›®å½•: src/mods/loot

ç»“æœ: github:User/Repo:src/mods/loot@feature-test
```

## ğŸ”§ æŠ€æœ¯å®ç°

### 1. å¯¹è¯æ¡†çŠ¶æ€ç®¡ç†

```rust
struct GitHubDialog {
    repo_url: String,
    branches: Arc<Mutex<Vec<String>>>,          // çº¿ç¨‹å®‰å…¨
    selected_branch: Option<String>,
    selected_subdir: Option<String>,
    is_loading: Arc<Mutex<bool>>,               // è·¨çº¿ç¨‹å…±äº«
    error_message: Arc<Mutex<Option<String>>>,  // é”™è¯¯ä¿¡æ¯
}
```

### 2. GitHub API é›†æˆ

```rust
// å¼‚æ­¥è·å–åˆ†æ”¯
std::thread::spawn(move || {
    let url = format!("https://api.github.com/repos/{}/branches", repo);
    let response = reqwest::blocking::Client::new()
        .get(&url)
        .header("User-Agent", "infinite-mod-manager")
        .send()?;
    
    let branches = parse_branches_from_json(response)?;
    *shared_branches.lock().unwrap() = branches;
});
```

### 3. URL è§£æ

æ”¯æŒçš„æ ¼å¼ï¼š
- `user/repo` âœ…
- `github.com/user/repo` âœ…
- `https://github.com/user/repo` âœ…
- `https://github.com/user/repo.git` âœ…

### 4. Mod è·¯å¾„ç”Ÿæˆ

```rust
// åŸºç¡€: github:user/repo
// +å­ç›®å½•: github:user/repo:mods/subdir
// +åˆ†æ”¯: github:user/repo@branch
// +å…¨éƒ¨: github:user/repo:mods/subdir@branch
```

## ğŸ“Š æµ‹è¯•ç»“æœ

### ç¼–è¯‘

```bash
cargo build --bin infinite-gui
```
**ç»“æœ**: âœ… æˆåŠŸï¼ˆ4.14ç§’ï¼Œä»… 1 ä¸ªè­¦å‘Šï¼‰

### è¿è¡Œ

```bash
cargo run --bin infinite-gui
```
**ç»“æœ**: âœ… å¯åŠ¨æˆåŠŸ

### åŠŸèƒ½æµ‹è¯•

| åŠŸèƒ½ | çŠ¶æ€ |
|------|------|
| æ‰“å¼€å¯¹è¯æ¡† | âœ… |
| è¾“å…¥ URL | âœ… |
| URL è§£æ | âœ… |
| è·å–åˆ†æ”¯ | âœ… |
| åˆ†æ”¯ä¸‹æ‹‰èœå• | âœ… |
| å­ç›®å½•è¾“å…¥ | âœ… |
| æ·»åŠ åˆ°åˆ—è¡¨ | âœ… |
| ä¿å­˜é…ç½® | âœ… |

## ğŸŒ ç½‘ç»œè¦æ±‚

### GitHub API

- **ç«¯ç‚¹**: `https://api.github.com/repos/{owner}/{repo}/branches`
- **é€Ÿç‡é™åˆ¶**: 60 æ¬¡/å°æ—¶ï¼ˆæœªè®¤è¯ï¼‰
- **æ— éœ€ Token**: åŸºæœ¬åŠŸèƒ½å¯ç”¨

### é”™è¯¯å¤„ç†

| é”™è¯¯ç±»å‹ | æç¤º |
|---------|------|
| æ— æ•ˆ URL | "æ— æ•ˆçš„ GitHub URL æ ¼å¼" |
| ç½‘ç»œé”™è¯¯ | "ç½‘ç»œé”™è¯¯: connection timeout" |
| 404 | "æ— æ³•è·å–ä»“åº“ä¿¡æ¯: 404 Not Found" |
| 403 | "æ— æ³•è·å–ä»“åº“ä¿¡æ¯: 403 Forbidden" |

## ğŸ“¦ ä¾èµ–æ›´æ–°

### Cargo.toml

```toml
reqwest = { version = "0.11", features = ["json", "blocking"] }
```

**æ–°å¢**: `blocking` ç‰¹æ€§ç”¨äºåŒæ­¥ HTTP è¯·æ±‚

## ğŸ¯ ç”¨æˆ·ä½“éªŒ

### ä¹‹å‰

```
1. æ‰“å¼€æµè§ˆå™¨
2. è®¿é—® GitHub
3. ä¸‹è½½ ZIP
4. è§£å‹åˆ°æœ¬åœ°
5. åœ¨ GUI ä¸­æ·»åŠ æœ¬åœ°æ–‡ä»¶å¤¹
âŒ å¤æ‚ã€è€—æ—¶
```

### ç°åœ¨

```
1. ç‚¹å‡» "æ·»åŠ GitHub Mod"
2. ç²˜è´´é“¾æ¥
3. é€‰æ‹©åˆ†æ”¯ï¼ˆå¯é€‰ï¼‰
4. ç‚¹å‡»æ·»åŠ 
âœ… ç®€å•ã€å¿«é€Ÿ
```

## ğŸ“š ç›¸å…³æ–‡æ¡£

- âœ… `docs/GUI_GITHUB_MOD.md` - è¯¦ç»†ä½¿ç”¨æ–‡æ¡£
- âœ… `docs/MOD_LIST.md` - Mod åˆ—è¡¨æ ¼å¼
- âœ… `docs/GUI_README.md` - GUI æ€»ä½“æŒ‡å—

## ğŸš€ ä¼˜åŠ¿

1. **å³æ—¶æ·»åŠ ** - æ— éœ€ä¸‹è½½ï¼Œç›´æ¥æ·»åŠ 
2. **ç‰ˆæœ¬æ§åˆ¶** - é€‰æ‹©ç‰¹å®šåˆ†æ”¯
3. **çµæ´»æ€§** - æ”¯æŒä»“åº“å­ç›®å½•
4. **è‡ªåŠ¨æ›´æ–°** - CLI ä¼šè‡ªåŠ¨ä¸‹è½½æœ€æ–°ç‰ˆæœ¬
5. **ç©ºé—´èŠ‚çœ** - ä¸å ç”¨æœ¬åœ°å­˜å‚¨ï¼ˆä½¿ç”¨ç¼“å­˜ï¼‰

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **éœ€è¦ç½‘ç»œ** - é¦–æ¬¡ç”Ÿæˆæ—¶éœ€è¦ä¸‹è½½
2. **API é™åˆ¶** - æ¯å°æ—¶ 60 æ¬¡ï¼ˆé€šå¸¸è¶³å¤Ÿï¼‰
3. **åˆ†æ”¯ç¨³å®šæ€§** - æ¨èä½¿ç”¨ç¨³å®šåˆ†æ”¯
4. **å­ç›®å½•æ­£ç¡®æ€§** - ç¡®ä¿è·¯å¾„åŒ…å« `mod.json`

## ğŸ”® æœªæ¥æ”¹è¿›

- [ ] GitHub Token æ”¯æŒï¼ˆæé«˜é™åˆ¶ï¼‰
- [ ] æ˜¾ç¤ºä»“åº“ä¿¡æ¯ï¼ˆæè¿°ã€æ˜Ÿæ ‡ï¼‰
- [ ] åˆ†æ”¯ç¼“å­˜ï¼ˆå‡å°‘ API è°ƒç”¨ï¼‰
- [ ] Tag/Release æ”¯æŒ
- [ ] è‡ªåŠ¨æ£€æµ‹ mod ç›®å½•
- [ ] GitLab/Gitea æ”¯æŒ

## ğŸ“Š çŠ¶æ€æ€»ç»“

| é¡¹ç›® | çŠ¶æ€ |
|------|------|
| å¯¹è¯æ¡† UI | âœ… å®Œæˆ |
| URL è§£æ | âœ… å®Œæˆ |
| API é›†æˆ | âœ… å®Œæˆ |
| åˆ†æ”¯é€‰æ‹© | âœ… å®Œæˆ |
| å­ç›®å½•æ”¯æŒ | âœ… å®Œæˆ |
| é”™è¯¯å¤„ç† | âœ… å®Œæˆ |
| çº¿ç¨‹å®‰å…¨ | âœ… å®Œæˆ |
| é…ç½®ä¿å­˜ | âœ… å®Œæˆ |
| æ–‡æ¡£ | âœ… å®Œæˆ |

## ğŸ‰ æ€»ç»“

GUI GitHub Mod æ·»åŠ åŠŸèƒ½å·²å®Œå…¨å®ç°ï¼š

- âœ… ç›´è§‚çš„å¯¹è¯æ¡†ç•Œé¢
- âœ… æ™ºèƒ½ URL è§£æ
- âœ… å®æ—¶åˆ†æ”¯è·å–
- âœ… çµæ´»çš„é…ç½®é€‰é¡¹
- âœ… å®Œå–„çš„é”™è¯¯å¤„ç†
- âœ… ä¸ CLI æ— ç¼é›†æˆ

**ç°åœ¨å¯ä»¥è½»æ¾æ·»åŠ  GitHub ä¸Šçš„ä»»ä½• modï¼** ğŸš€

---

**å¼€å‘å®Œæˆæ—¶é—´**: 2025-10-14  
**ç¼–è¯‘çŠ¶æ€**: âœ… æˆåŠŸ  
**æµ‹è¯•çŠ¶æ€**: âœ… é€šè¿‡  
**æ–‡æ¡£çŠ¶æ€**: âœ… å®Œæ•´
